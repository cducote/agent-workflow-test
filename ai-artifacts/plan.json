{
  "summary": "_Planning complete. Comment `/ai implement` to apply these changes._\n\nAdd modulo (%) operation to the calculator by implementing the math function, updating the UI with a % button, and adding comprehensive tests with edge case handling.",
  "steps": [
    "Add modulo function to the math library with division by zero handling",
    "Update the calculator store to handle modulo operations",
    "Add % button to the OperationButtons component",
    "Add tests for the modulo function in both backend and frontend test files",
    "Run tests to ensure everything works correctly"
  ],
  "files_to_modify": [
    {
      "path": "src/math.js",
      "reason": "Add modulo function with proper error handling for division by zero"
    },
    {
      "path": "frontend/lib/math.ts",
      "reason": "Add modulo function to TypeScript math library with proper error handling"
    },
    {
      "path": "frontend/store/calculatorStore.ts",
      "reason": "Update store to handle modulo operation in the calculator state"
    },
    {
      "path": "frontend/components/OperationButtons.tsx",
      "reason": "Add % button to the operation buttons UI"
    },
    {
      "path": "tests/math.test.js",
      "reason": "Add comprehensive tests for modulo function including edge cases"
    },
    {
      "path": "frontend/__tests__/math.test.ts",
      "reason": "Add TypeScript tests for modulo function including edge cases"
    }
  ],
  "files_to_create": [],
  "tests": [
    {
      "command": "npm run test",
      "reason": "Run backend tests to verify modulo function implementation"
    },
    {
      "command": "cd frontend && npm run test",
      "reason": "ci`: Run frontend tests to verify UI integration and TypeScript implementation"
    }
  ],
  "risks": [
    "Modulo by zero operations need careful handling to avoid runtime errors",
    "UI layout might need adjustment if adding another operation button affects spacing",
    "Need to ensure consistent behavior between JavaScript and TypeScript implementations"
  ]
}